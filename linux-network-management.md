# 리눅스 네트워크 관리

### ping
ping 명령을 이용하면 다름 시스템의 네트워크가 현재 동작 중인지 알 수가 있다.
- ping 명령어는 상대 호스트 또는 자신이 정상적으로 네트워크 작동을 하는 지 확인하는 데 아주 유용하게 쓰인다. 하지만 과도하게 사용하면 서버에 부담을 줄 수 있다.

- 외부의 과도한 ping을 막기 위해  ICMP echo를 ignore 시킨다.

### ICMP
- 네트워크 장비 간의 통신 중에 발생하는 문제를 진단하고 보고하는 데 사용되는 프로토콜
- 네트워크 트러블슈팅 및 관리 도구에서 사용

| 주요 개념                                        | 설명                                                                                                                                                                               |
|--------------------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| 메시지 타입                                     | ICMP는 다양한 메시지 타입을 제공합니다. 각 메시지 타입은 특정한 네트워크 상황을 나타내며, 해당 상황에 대한 정보를 전송합니다. 에코 요청과 에코 응답 메시지는 호스트 도달성 및 응답 시간을 테스트하는 데 사용됩니다. |
| 목적지 도달 불가(Unreachable) 메시지            | 목적지 도달 불가 메시지는 목적지 호스트나 네트워크에 도달할 수 없는 경우에 전송됩니다. 라우팅 문제나 호스트 비활성화로 인한 상황을 나타냅니다.                                    |
| 시간 초과(Time Exceeded) 메시지                | 시간 초과 메시지는 IP 패킷의 TTL(Time to Live) 값이 만료되어 목적지에 도달하지 못한 경우에 전송됩니다. 이는 패킷의 무한한 루프를 방지하기 위한 메커니즘입니다.                  |
| 리디렉트(Redirect) 메시지                      | 라우터는 리디렉트 메시지를 사용하여 더 효율적인 경로로 데이터를 보낼 수 있는 경우에 송신자에게 경로 변경을 안내합니다.                                                       |


| 쓰임새                                        | 설명                                                                                                                      |
|-----------------------------------------------|---------------------------------------------------------------------------------------------------------------------------|
| 네트워크 상태 모니터링                        | ICMP 메시지를 사용하여 네트워크 장치와 호스트의 도달 가능성과 응답 시간을 모니터링합니다. "Ping"과 같은 도구가 활용됩니다.      |
| 네트워크 트러블슈팅                          | ICMP 메시지는 네트워크 문제 진단 및 해결에 중요한 역할을 합니다. 목적지 도달 불가 메시지, 시간 초과 메시지 등을 활용합니다. |
| 라우팅 및 경로 변경 안내                    | 리디렉트 메시지를 통해 라우터는 데이터가 더 효율적인 경로로 안내되도록 합니다.                                       |
| 네트워크 보안                               | ICMP 메시지를 활용하여 네트워크 공격 및 비정상적인 활동을 탐지할 수 있습니다.                                          |
| 네트워크 관리 및 동작 분석                   | ICMP 메시지를 통해 네트워크 동작을 분석하고 관리하며, 상황에 따라 조치를 취하는 데 도움을 줍니다.                      |


### nslookup
- nslookup은 도메인 네임서버에 질의를 할 수 있는 명령어 이다. 도메인 이름의 호스트의 IP주소를 검색할 수 있고 네임서버가 올바르게 작동하는 지 확인 할 수도 있다.

### netstat
- 네트워크 연결, 라우팅 테이블, 네트워크 장치의 통계정보 등 네트워크에 관련된 여러가지 정보를 확인할 수 있다.

### 고정 아이피 설정 
- 설정 내용을 확인해 보면 BOOTPPROTO 가 dhcp 즉, dynamic 하게 dhcp 서버로 부터 IP 주소와 게이웨이 IP 주소 Subnet Mask, DNS 서버 IP 정보를 받아와 세팅하게 된다.

- 고정 아이피로 바꾸기 위한 설정은 다음과 같다.
![image](blob:https://velog.io/a2b8c7d8-1610-435e-a723-145e7b851add)
- 수정 후,
`# systemctl restart network.service``  로 네트워크를 다시 시작한다.