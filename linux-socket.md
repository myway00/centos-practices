### 소켓의 이해
1. TCP/IP 프로토콜의  프로그래머  인터페이스

2. 네트워크  프로그래밍에서  개발자에게 네트워크에 접근할  수 있는  인터페이스  제공  

3. 1986년 BSD Unix4.3 개정된 소켓 사용

4. 프로세스 간의 통신 방식( 클라이언트 / 서버모델 )

5. 3가지 과정으로 사용

   (1) 소켓 생성(소켓 열기)

   (2) 소켓을 통한 송/수신

   (3) 소켓 소멸( 소켓 닫기)

### 소켓 생성

int socket(  int domain, int type, int protocol  )
```
#include <sys/socket.h>

int sockfd = socket( PF_INET, SOCK_STREAM, IPPROTO_TCP );

```  
type : 소켓의 유형	
   - SOCK_STREAM
         1) TCP 통신 소켓이다. 
         2) stream 방식의 연결지향 소켓을 만든다.(  전화와 비슷한 연결  ) 
         3) 양방향  통신 
         4) 바이트를 주고 받을 수 있는 가변 길이 stream
         5) 전달된 모든 데이터는  에러 없이 원격지에 도달
         6) 전달된 순서대로 수신됨

    - SOCK_DATAGRAM
        1) UDP 통신 소켓이다. 
        2) datagram 방식의 비 연결성 소켓을 만든다. ( 전보와 비슷한  비 연결 )
        3) 양방향 통신
        4) 고정길이의 메시지를 사용
        5) 신뢰성이 없다.
        6) 전달된 순서대로 수신되지 않음

![image](https://velog.velcdn.com/images/myway00/post/a0b80e77-dd06-4b95-a396-937eb0952376/image.png)

### 포트번호

포트의 필요성

- 실제적인  데이터  통신은  연결된 두 Host(컴퓨터)의 Process(프로그램)  사이에서  이루어 진다.

- 여러 계층을  통해 애플리케이션 계층으로  들어온  데이터를  해당 Process에만 정확하게  전달할 필요가 있다.

- 하나의 Host(컴퓨터)에는 여러 개의 Process(프로그램)가  각각의  소켓을  사용하여 데이터 통신을 하고 있기 때문에  
   TCP에서는 각 소켓을 구분할  필요가 생긴다.

- 이 때 각각의 소켓을 구분 할  때 사용하는 것이  포트 이다.

> “ 아파트(Host)에 사는 사람(Process)에게  편지(Data)를 보낼  때,  동(IP Address)과 호(Port)를 봉투(Packet)에  기입해야 한다.”  

1. 포트번호는 16비트 정수를 사용한다. ( 0 - 65535 )

2. 포트의 종류
    (1)      1 - 255      : 잘 알려진 인터넷 서비스 포트( Well-Known Port)
    (2)   256 - 1023    : 그 밖의 인터넷 서비스
    (3) 1024 - 4999    :  시스템 예약 
    (4) 5000 - 65535  :  사용자 사용

 
3. 포트의 중복은  불가능하다. 

4. 하지만,  같은 UDP 포트와  TCP 포트는  중복하여 사용할 수 있다.

